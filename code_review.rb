TODO strftime on messages view
TODO refactor error messsages
TODO refactor controller
