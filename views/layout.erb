<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"  rel='stylesheet' />
  </head>
  <body>
      <nav class="navbar navbar-expand-sm bg-light">
      <div class="container-fluid">
        <ul class="navbar-nav">
          <li class="nav-item">
            <%if session[:user_id] %>
              <form action="/log-out" method="get" class="navbar-form navbar-left">
                <input type="submit" value="Log Out" class="nav-link">
              </form>
            <% end %>
          </li>
          <li class="nav-item">
            <%if session[:user_id].nil? && request.path_info != '/' %>
              <form action="/" method="get" class="navbar-form navbar-left">
                <input type="submit" value="Log In" class="nav-link">
              </form>
            <% end %>
          </li>
          <li class="nav-item">
            <%if session[:user_id].nil? && request.path_info != '/register' %>
              <form action="/register" method="get">
                <input type="submit" value="Sign Up" class="nav-link">
              </form>
            <% end %>
          </li>
        </ul>
        <%if @user %>
          <h1>Welcome, <%= @user.username %>!</h1>
        <% end %>
      </div>
    </nav>
    <% flash.keys.each do |type| %>
      <div data-alert class="flash <%= type %> alert-box radius">
        <%= flash[type] %>
        <a href="#" class="close">&times;</a>
      </div>
    <% end %>
  <%= yield %>

  </body>
</html>