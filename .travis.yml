rvm: '2.5.0'

script:
  - mkdir -p spec && bundle exec rspec spec

before_install:
- sudo apt-get update -qq
- sudo apt-get install -qq postgresql-server-dev-9.3
- gem update --system
- gem install bundler

services:
  - postgresql

postgres:
  adapter: postgresql
  database: Chitter_Test
  username: postgres

before_script:
  - "psql -c 'CREATE DATABASE Chitter_Test;'"
  - "psql -c Chitter_Test 'CREATE TABLE peep(id SERIAL PRIMARY KEY, peep VARCHAR(500), timestamp TIMESTAMPTZS DEFAULT NOW())'"
  - "psql -c Chitter_Test 'CREATE TABLE members(id SERIAL PRIMARY KEY, name VARCHAR(100), username VARCHAR(30), email VARCHAR(100), password VARCHAR(150));'"
