rvm: '2.5.0'

script:
  - mkdir -p spec && bundle exec rspec spec

before_install:
- sudo apt-get update -qq
- sudo apt-get install -qq postgresql-server-dev-9.3
- gem update --system
- gem install bundler

services:
  - postgresql

before_script:
  - psql \c 'CREATE DATABASE Chitter_Test;' -U postgres
  - psql Chitter_Test 'CREATE TABLE peeps (id SERIAL PRIMARY KEY, peep VARCHAR(500), timestamp TIMESTAMPTZS DEFAULT NOW());' -U postgres
  - psql Chitter_test 'CREATE TABLE members (id SERIAL PRIMARY KEY, name VARCHAR(100), username VARCHAR(30), email VARCHAR(100), password VARCHAR(150));' -U postgres
